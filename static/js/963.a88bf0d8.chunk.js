"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[963],{529:function(t,e,n){n.d(e,{Y:function(){return o}});var a=n(243).Z.create({baseURL:"https://api.themoviedb.org",headers:{"Content-Type":"application/json"}}),o=function(t){try{return a.get("/".concat(t))}catch(e){console.log(e)}}},3:function(t,e){e.Z="84a9c85584e90472998fb70b43f15561"},963:function(t,e,n){n.r(e),n.d(e,{default:function(){return g}});var a=n(439),o=n(689),c=n(87),r=n(692),u=n(433),s=n(791),i=n(3),l=n(529),p=function(){var t,e=(0,s.useState)(1),n=(0,a.Z)(e,2),o=n[0],r=n[1],p=(0,s.useState)(!1),f=(0,a.Z)(p,2),h=f[0],m=f[1],d=(0,c.lr)(),g=(0,a.Z)(d,2),_=g[0],v=g[1],b=null!==(t=_.get("query"))&&void 0!==t?t:"",x="3/search/movie?api_key=".concat(i.Z,"&query=").concat(b,"&language=en-US&page=1&include_adult=false&page=").concat(o),j=(0,s.useState)([]),Z=(0,a.Z)(j,2),k=Z[0],y=Z[1];return(0,s.useEffect)((function(){""!==b.trim()&&(0,l.Y)(x).then((function(t){var e=t.data,n=e.page,a=e.results,o=e.total_pages;y((function(t){return[].concat((0,u.Z)(t),(0,u.Z)(a))})),r(n),o>n&&m(!0)})).catch((function(t){console.log(t.message)}))}),[x,b,o]),[k,function(t){t.preventDefault();var e=t.currentTarget.elements.input.value;if(!e)return v({});v({query:e})},h,function(){r((function(t){return t+1}))}]},f="MoviesPage_form__vECho",h="MoviesPage_button__sPqVK",m="MoviesPage_input__zOh2m",d=n(184),g=function(){var t=p(),e=(0,a.Z)(t,4),n=e[0],u=e[1],s=e[2],i=e[3],l=(0,o.TH)();return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("form",{className:f,onSubmit:u,children:[(0,d.jsx)("button",{className:h,type:"submit",children:(0,d.jsx)(r.Goc,{size:"20px"})}),(0,d.jsx)("input",{className:m,name:"input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]}),(0,d.jsx)("ul",{children:n.length>0&&n.map((function(t){var e=t.backdrop_path,n=t.original_title,a=t.id,o="http://image.tmdb.org/t/p/w300/".concat(e);return(0,d.jsx)("li",{children:(0,d.jsxs)(c.rU,{to:"".concat(a),state:{from:l},children:[(0,d.jsx)("img",{src:o,alt:n}),(0,d.jsx)("span",{children:n})]})},a)}))}),s&&(0,d.jsx)("button",{type:"button",onClick:i,children:"Load More"})]})}}}]);
//# sourceMappingURL=963.a88bf0d8.chunk.js.map